<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Store</title>
    <link rel="icon" type="image/x-icon" href="../favicon.png">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <link rel="stylesheet" type="text/css" href="style.css">
</head>
<body data-theme="dark">
    <div class="topnav" id="myTopnav">
        <a class="topnav-logo" href="../index.html">
            <img style="max-height: 80px; padding: 0;" alt="logo" src= "../nav_bar_logo.png"></a>
        <a href="../../Student_2/homepage and feedback/Home.html">Home</a>
        <a href="../../Student_2/homepage and feedback/Feedback.html">Feedback</a>
        <a class="active" href="../shop/shop.html">Shop</a>
        <a href="../../Student_3/Quiz_details.html">Quiz</a>
        <a href="../../Student_4/Sitemap.html">Site Map</a>  
        <a href="../../Student_4/gallery.html">Gallery</a>
        <a href="../../Student_3/About_Us.html">About Us</a>    
        <a href="javascript:void(0);" class="icon" onclick="menuMobile()">
        <i class="fa fa-bars"></i>
        </a>
	</div>
    <div class="background">
        <!--go to top-->
        <button onclick="topFunction()" id="toTopBtn" title="Go to top">&#129093;</button>
      <div class="container">
          <h1>Pop Movies Merch Store</h1>
          <br>
          <div class="product-container">
              <!--cart-->
            <div id="cart">
              <h3>Shopping Cart</h3>
              <ul id="cartItems"></ul>
              <p style="text-align: left; font-size: 16px; font-weight: bold;" id="total">Total: £0</p>
                <button class="btn" onclick="window.location.href = 'payment.html';">Buy</button>
            </div>
              <!--products-->
              <div class="product">
                  <div id="item0" class="carousel slide" data-ride="carousel">
                    <!-- Indicators -->
                    <ol class="carousel-indicators">
                      <li data-target="#item0" data-slide-to="0" class="active"></li>
                      <li data-target="#item0" data-slide-to="1"></li>
                        <li data-target="#item0" data-slide-to="2"></li>
                    </ol>

                    <!-- Wrapper for slides -->
                    <div class="carousel-inner">
                      <div class="item active">
                        <img src="lotr figurings/lordof.jpg" alt="type1" name="1" style="width:100%;">
                      </div>

                      <div class="item">
                        <img src="lotr figurings/lotr1.jpg" alt="type2" name="2" style="width:100%;">
                      </div>
                        <div class="item">
                        <img src="lotr figurings/lotr3.jpg" alt="type3" name="3" style="width:100%;">
                      </div>
                    </div>

                    <!-- Left and right controls -->
                    <a class="left carousel-control" href="#item0" data-slide="prev">
                      <span class="glyphicon glyphicon-chevron-left"></span>
                      <span class="sr-only">Previous</span>
                    </a>
                    <a class="right carousel-control" href="#item0" data-slide="next">
                      <span class="glyphicon glyphicon-chevron-right"></span>
                      <span class="sr-only">Next</span>
                    </a>
                  </div>
                  <h2>Lord Of The Rings Mugs</h2>
                  <p>Discover our exclusive Lord of the Rings figurine collection, perfect for ages 6-15! Each hand-painted masterpiece is crafted with meticulous attention to detail, capturing the essence of Tolkien's epic saga.</p>
                  <!--change price here-->
                  <p id="price">Price-Each: £5</p>
                  <div class="quentity">
                      <p>Total: £0</p>
                      <input type="number" min="0" max="10" value="0" onchange="updateTotal(this)">
                      <button class="btn" style="width: 80px; height: 40px; padding: 5px;" onclick="addToCart()">Add</button>
                  </div>
              </div>
              <div class="product">
                  <div id="item1" class="carousel slide" data-ride="carousel">
                    <!-- Indicators -->
                    <ol class="carousel-indicators">
                      <li data-target="#item1" data-slide-to="0" class="active"></li>
                      <li data-target="#item1" data-slide-to="1"></li>
                      <li data-target="#item1" data-slide-to="2"></li>
                    </ol>

                    <!-- Wrapper for slides -->
                    <div class="carousel-inner">
                      <div class="item active">
                        <img src="end game bags/marval bag1.jpg" alt="Badges" name="1" style="width:100%;">
                      </div>

                      <div class="item">
                        <img src="end game bags/marvalbag2.jpg" alt="Badges" name="2" style="width:100%;">
                      </div>

                      <div class="item">
                        <img src="end game bags/marvalbag3.jpg" alt="Badges" name="3" style="width:100%;">
                      </div>
                    </div>

                    <!-- Left and right controls -->
                    <a class="left carousel-control" href="#item1" data-slide="prev">
                      <span class="glyphicon glyphicon-chevron-left"></span>
                      <span class="sr-only">Previous</span>
                    </a>
                    <a class="right carousel-control" href="#item1" data-slide="next">
                      <span class="glyphicon glyphicon-chevron-right"></span>
                      <span class="sr-only">Next</span>
                    </a>
                  </div>
                  <h2>End Game bagpack</h2>
                  <p>Introducing our "End Game" bag, specially designed for kids aged 10-17! This versatile and stylish bag is inspired by the excitement of epic adventures. With its durable material and spacious compartments, it's perfect for carrying school essentials, sports gear, or your favorite books.</p>
                  <p id="price">Price-Each: £9</p>
                  <div class="quentity">
                      <p>Total: £0</p>
                      <input type="number" min="0" max="10" value="0" onchange="updateTotal(this)">
                      <button class="btn" style="width: 80px; height: 40px; padding: 5px;" onclick="addToCart()">Add</button>
                  </div>
              </div>
              <div class="product">
                  <div id="item2" class="carousel slide" data-ride="carousel">
                    <!-- Indicators -->
                    <ol class="carousel-indicators">
                      <li data-target="#item2" data-slide-to="0" class="active"></li>
                      <li data-target="#item2" data-slide-to="1"></li>
                      <li data-target="#item2" data-slide-to="2"></li>
                    </ol>

                    <!-- Wrapper for slides -->
                    <div class="carousel-inner">
                      <div class="item active">
                        <img src="titanic necklace/necklace1.jpg" alt="Badges" name="1" style="width:100%;">
                      </div>

                      <div class="item">
                        <img src="titanic necklace/necklace2.jpg" alt="Badges" name="2" style="width:100%;">
                      </div>

                      <div class="item">
                        <img src="titanic necklace/necklace3.jpg" alt="Badges" name="3" style="width:100%;">
                      </div>
                    </div>

                    <!-- Left and right controls -->
                    <a class="left carousel-control" href="#item2" data-slide="prev">
                      <span class="glyphicon glyphicon-chevron-left"></span>
                      <span class="sr-only">Previous</span>
                    </a>
                    <a class="right carousel-control" href="#item2" data-slide="next">
                      <span class="glyphicon glyphicon-chevron-right"></span>
                      <span class="sr-only">Next</span>
                    </a>
                  </div>
                  <h2>Titanic-inspired Heart Necklace</h2>
                  <p>Introducing our Titanic-inspired Heart Necklace, a timeless symbol of love and romance, perfect for young girls and gorgeous women alike. Crafted with exquisite attention to detail, this stunning necklace captures the essence of the iconic "Heart of the Ocean" from the beloved movie "Titanic."</p>
                  <p id="price">Price-Each: £6</p>
                  <div class="quentity">
                      <p>Total: £0</p>
                      <input type="number" min="0" max="10" value="0" onchange="updateTotal(this)">
                      <button class="btn" style="width: 80px; height: 40px; padding: 5px;" onclick="addToCart()">Add</button>
                  </div>
              </div>
              <div class="product">
                <div id="item3" class="carousel slide" data-ride="carousel">
                    <!-- Indicators -->
                    <ol class="carousel-indicators">
                      <li data-target="#item3" data-slide-to="0" class="active"></li>
                      <li data-target="#item3" data-slide-to="1"></li>
                      <li data-target="#item3" data-slide-to="2"></li>
                    </ol>

                    <!-- Wrapper for slides -->
                    <div class="carousel-inner">
                      <div class="item active">
                        <img src="inception tshirt/tshirt1.jpg" alt="Badges" name="1" style="width:100%;">
                      </div>

                      <div class="item">
                        <img src="inception tshirt/tshirt2.jpg" alt="Badges" name="2" style="width:100%;">
                      </div>

                      <div class="item">
                        <img src="inception tshirt/tshirt3.jpg" alt="Badges" name="3" style="width:100%;">
                      </div>
                    </div>

                    <!-- Left and right controls -->
                    <a class="left carousel-control" href="#item3" data-slide="prev">
                      <span class="glyphicon glyphicon-chevron-left"></span>
                      <span class="sr-only">Previous</span>
                    </a>
                    <a class="right carousel-control" href="#item3" data-slide="next">
                      <span class="glyphicon glyphicon-chevron-right"></span>
                      <span class="sr-only">Next</span>
                    </a>
                  </div>
                  <h2>Inception Movie T-Shirts</h2>
                  <p>Introducing our Inception Movie T-Shirts, perfect for fans of all ages and genders! These cool printed shirts come in a comfortable unisex free size, ensuring a great fit for everyone. Designed with high-quality materials, our Inception T-Shirts feature iconic imagery and memorable quotes from the film, showcasing your love for this mind-bending masterpiece.</p>
                  <p id="price">Price-Each: £8</p>
                  <div class="quentity">
                      <p>Total: £0</p>
                      <input type="number" min="0" max="10" value="0" onchange="updateTotal(this)">
                      <button class="btn" style="width: 80px; height: 40px; padding: 5px;" onclick="addToCart()">Add</button>
                  </div>
              </div>
          </div>
        </div>
      <footer>
        <!--footer-->
        <p>&copy; Copyright 2023, IIT | Page Editor: <a style="text-decoration: none; color: #9B2323;" href="../page_editor.html">Student 1</a></p>
    </footer>
  </div>
<!-- Theme switcher -->
    <div class="theme-switcher">
        <input class="input-theme" type="radio" id="switcher-light" name="theme-switcher" value="light" checked>
        <label class="theme-label" for="switcher-light">Light</label>
        <input  class="input-theme" type="radio" id="switcher-dark" name="theme-switcher" value="dark">
        <label class="theme-label" for="switcher-dark">Dark</label>
        <input  class="input-theme" type="radio" id="switcher-colorful" name="theme-switcher" value="colorful">
        <label class="theme-label" for="switcher-colorful">Colorful</label>
        <input  class="input-theme" type="radio" id="switcher-random" name="theme-switcher" value="random">
        <label class="theme-label" for="switcher-random">Random</label>
    </div>
  <script src="script.js"></script>
    <script>
        function addToCart() {
            // Get the parent element (the .product div) of the clicked button
            const productDiv = event.target.closest('.product');

            // Get the quantity input element
            const quantityInput = productDiv.querySelector('input');

            // Get the quantity value as an integer
            const quantity1 = parseInt(quantityInput.value);
            

            if (quantity1 > 0) {
                // Get the relevant h2 element inside the .product div
                const productName = productDiv.querySelector('h2').textContent;

                const productImage = getActiveSlideImageNumber(productDiv);
                const quantity = quantity1;
                
                // Get the "Price-Each" paragraph element
                const priceEachParagraph = productDiv.querySelector('#price');

                // Extract the price value from the paragraph text
                const priceEachText = priceEachParagraph.textContent;
                const price = parseInt(priceEachText.split('£')[1].trim())*quantity;
                

                // Create a cart item object
                const cartItem = {
                    name: productName,
                    image: productImage,
                    quantity: quantity,
                    price: price
                };

                // Add the cart item to the cartItems array
                cartItems.push(cartItem);

                // Update the cart display
                updateCartDisplay();
            } else {
                alert("choose quentity!");
            }
        }
        
        // Function to get the price of each item
        function getPriceEach(productDiv) {
            // Get the "Price-Each" paragraph element
            const priceEachParagraph = productDiv.querySelector('#price');

            // Extract the price value from the paragraph text
            const priceEachText = priceEachParagraph.textContent;
            const priceValue = parseInt(priceEachText.split('£')[1].trim());
            return priceValue;
        }

        // Function to update the Total price as the quantity changes
        function updateTotal(productInput) {
            // Get the parent element (the .product div) of the quantity input
            const productDiv = productInput.closest('.product');

            // Get the price of each item
            const priceEach = getPriceEach(productDiv);
            // Get the quantity value as an integer
            const quantity = parseInt(productInput.value);

            // Calculate the total price
            const totalPrice = priceEach * quantity;

            // Get the "Total" paragraph element
            const totalParagraph = productDiv.querySelector('.quentity p:nth-child(1)');

            // Update the Total price text
            totalParagraph.textContent = `Total: £${totalPrice.toFixed(2)}`;
        }

        // Function to update the cart display
        function updateCartDisplay() {
          const cartItemsList = document.getElementById("cartItems");
          cartItemsList.innerHTML = "";

            let totalAllValue = 0;
            // Get the "Total" paragraph element
            const totalAll = document.getElementById("total");
            const p =0;
            // Update the Total price text
            totalAll.textContent = `Total: £${p.toFixed(2)}`;
            
          // Loop through the cartItems array and create list items to display cart details
          cartItems.forEach((item, index) => {
            const listItem = document.createElement("li");
            listItem.textContent = `${item.name} | type ${item.image} | Quantity: ${item.quantity} | Price: £${item.price}`;


            const totalAllPrice = totalAllValue+item.price;
            totalAllValue=totalAllPrice;
              
            // Update the Total price text
            totalAll.textContent = `Total: £${totalAllPrice.toFixed(2)}`;

            // Create a "Remove" button for each cart item
            const removeButton = document.createElement("button");
            removeButton.textContent = "Remove";
            removeButton.classList.add("btn", "btn-danger", "btn-sm");
            removeButton.style="width: 80px; height: 40px; padding: 5px; font-size: 18px; margin:5px;";

            // Add an event listener to the "Remove" button to handle item removal
            removeButton.addEventListener("click", () => {
              // Remove the item from the cartItems array
              cartItems.splice(index, 1);
              // Update the cart display after item removal
              updateCartDisplay();
            });

            listItem.appendChild(removeButton);
            cartItemsList.appendChild(listItem);
          });
        }
        // Sample cart items array to hold the cart items
        const cartItems = [];

        // Function to get the active slide image number from the carousel of a specific product
        function getActiveSlideImageNumber(productDiv) {
          // Get the active carousel item (the .item div with the .active class)
          const activeCarouselItem = productDiv.querySelector('.carousel-inner .item.active');

          // Get the active image ID (assuming the ID attribute of the image element is the image number)
          const activeImageID = activeCarouselItem.querySelector('img').getAttribute('name');

          // Parse the image ID to an integer and return it
          return parseInt(activeImageID);
        }

        // Rest of your JavaScript code

    </script>
</body>
</html>

